MAINTAINERCLEANFILES= Makefile.in

DEPENDSON = ../GameScenario.o ../army.o ../GameMap.o ../templelist.o ../ruinlist.o \
        ../hero.o ../citylist.o ../Location.o ../Object.o ../stacklist.o \
        ../File.o ../fight.o ../armysetlist.o ../temple.o ../ruin.o ../stack.o \
	../city.o ../path.o ../action.o ../Configuration.o ../MapGenerator.o \
	../ai_dummy.o ../ai_fast.o ../ai_smart.o ../xmlhelper.o ../counter.o \
        ../CreateScenario.o ../history.o ../armyset.o \
	../maptile.o ../real_player.o  ../player.o ../tilesetlist.o \
	../Tile.o ../tileset.o ../playerlist.o \
	../tilestyle.o ../tilestyleset.o \
	../GraphicsCache.o ../QuestsManager.o ../Quest.o ../QKillHero.o \
        ../QEnemyArmies.o ../QCityOccupy.o \
        ../QCitySack.o ../QCityRaze.o ../QPillageGold.o ../QEnemyArmytype.o \
        ../string_tokenizer.o ../reward.o ../rewardlist.o \
        ../Item.o ../Itemlist.o ../Threat.o ../Threatlist.o ../AI_Analysis.o \
	../AI_Allocation.o ../AI_Diplomacy.o ../MoveResult.o ../AICityInfo.o \
        ../FogMap.o ../signpostlist.o ../signpost.o\
	../sound.o ../road.o ../roadlist.o \
        ../bridge.o ../bridgelist.o ../port.o ../portlist.o \
        ../vectoredunitlist.o ../vectoredunit.o \
        ../bigmap.o ../smallmap.o ../overviewmap.o ../timing.o \
        ../gui/image-helpers.o ../gui/error-utils.o ../gui/gtksdl.o \
        ../gui/army-info-tip.o ../MapRenderer.o \
	../shield.o ../shieldset.o ../shieldsetlist.o

if WANT_EDITOR
bin_PROGRAMS = lordsawar-editor lordsawar-army-editor

lordsawar_army_editor_SOURCES = \
armyset-main.cpp \
armyset-window.cpp armyset-window.h  \
armyset-info-dialog.cpp armyset-info-dialog.h \
glade-helpers.h



lordsawar_editor_SOURCES = \
main.cpp \
main-window.cpp main-window.h \
signpost-dialog.cpp signpost-dialog.h \
temple-dialog.cpp temple-dialog.h \
ruin-dialog.cpp ruin-dialog.h \
stack-dialog.cpp stack-dialog.h \
select-army-dialog.cpp select-army-dialog.h \
players-dialog.cpp players-dialog.h \
city-dialog.cpp city-dialog.h \
map-info-dialog.cpp map-info-dialog.h \
new-map-dialog.cpp new-map-dialog.h \
editorbigmap.cpp editorbigmap.h \
glade-helpers.h

# NewMapDialog.cpp Bigmap.cpp \
# Smallmap.cpp MapGenDialog.cpp TempleDialog.cpp \
# ArmyDialog.cpp CityDialog.cpp StackDialog.cpp \
# RuinDialog.cpp PlayerDialog.cpp FindDialog.cpp \
# ConditionDialog.cpp ReactionDialog.cpp \
# SelectionDialog.cpp EventDialog.cpp ScenarioDialog.cpp \
# SignpostDialog.cpp 

if FL_RESRC
lordsawar_editor_SOURCES += editor.rc
endif
.rc.o:
	i586-mingw32msvc-windres -o $@ $<

lordsawar_editor_LDADD = $(GTKMM_LIBS) \
	                   $(DEPENDSON) \
                           $(SDL_LIBS) \
               @LIBINTL@ -L..
lordsawar_army_editor_LDADD = $(GTKMM_LIBS) \
	                      $(DEPENDSON) \
                              $(SDL_LIBS) \
               @LIBINTL@ -L..
endif


localedir = $(datadir)/locale
DEFS = -DLOCALEDIR=\"$(localedir)\" @DEFS@


AM_CXXFLAGS = -Wall -DPO_PATH=\"$(prefix)/share/locale/\"
INCLUDES = $(GTKMM_CFLAGS) \
    $(SDL_CFLAGS) \
    -DLORDSAWAR_DATADIR='"$(LORDSAWAR_DATADIR)"' -I../..
